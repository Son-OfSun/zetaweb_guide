---
description: Релиз 2.4.8.1
---

# Работа с дублями

## Дубли номенклатуры

При работе с большим количеством номенклатуры и взаимодействии с поставщиками \(или загрузке номенклатуры из разных источников\) встречаются дубли номенклатуры.

{% hint style="info" %}
В системе Zeta Web уникальность номенклатуры проверяется при создании. Если уже существует номенклатура с таким Очищенным артикулом и Брендом, то при записи будет соответствующее предупреждение.

**Если бренд не указан, то контроль уникальности номенклатуры не действует.**
{% endhint %}

![&#x41F;&#x43E;&#x43F;&#x44B;&#x442;&#x43A;&#x430; &#x441;&#x43E;&#x437;&#x434;&#x430;&#x442;&#x44C; &#x43D;&#x43E;&#x43C;&#x435;&#x43D;&#x43A;&#x43B;&#x430;&#x442;&#x443;&#x440;&#x443;, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x430;&#x44F; &#x443;&#x436;&#x435; &#x435;&#x441;&#x442;&#x44C; &#x432; &#x431;&#x430;&#x437;&#x435;](../../.gitbook/assets/image%20%28215%29.png)

Обычно Zeta Web внедряется в 1С, в которой уже есть созданная номенклатура и не ведется контроля дублей. Поэтому в базе может быть несколько дублей одной позиции.

{% hint style="info" %}
Самая распространенная причина дублей в запчастях - использование разных названий одного и того же Бренда.
{% endhint %}

![&#x41F;&#x440;&#x438;&#x43C;&#x435;&#x440; &#x434;&#x443;&#x431;&#x43B;&#x44F; &#x43D;&#x43E;&#x43C;&#x435;&#x43D;&#x43A;&#x43B;&#x430;&#x442;&#x443;&#x440;&#x44B; &#x432; &#x423;&#x422; 10.3](../../.gitbook/assets/image%20%283%29.png)

## Отображение дубля на сайте

![&#x41F;&#x440;&#x438;&#x43C;&#x435;&#x440; &#x434;&#x443;&#x431;&#x43B;&#x44F; &#x43D;&#x43E;&#x43C;&#x435;&#x43D;&#x43A;&#x43B;&#x430;&#x442;&#x443;&#x440;&#x44B; &#x43D;&#x430; &#x441;&#x430;&#x439;&#x442;&#x435;](../../.gitbook/assets/image%20%28138%29.png)

![&#x41F;&#x440;&#x438;&#x43C;&#x435;&#x440; &#x434;&#x443;&#x431;&#x43B;&#x44F; &#x43D;&#x43E;&#x43C;&#x435;&#x43D;&#x43A;&#x43B;&#x430;&#x442;&#x443;&#x440;&#x44B; &#x43D;&#x430; &#x441;&#x430;&#x439;&#x442;&#x435;](../../.gitbook/assets/image%20%28200%29.png)

## Работа с дублями

{% hint style="info" %}
Подход к обработке номенклатуры, свертке или удалению дублей зависит от сложности учета и состояния базы 1С. Для больших и старых баз это может оказаться сложной задачей.
{% endhint %}

Далее рассмотрены несколько основных методов.

### Свертка дублей

В зависимости от конфигурации для поиска и замены дублирующихся элементов используются различные обработки. Мы рассмотрим на примере штатной обработки 1С Управление торговлей 10.3.

![](../../.gitbook/assets/image%20%28181%29.png)

![](../../.gitbook/assets/image%20%2850%29.png)

Для обработки номенклатуры выберите _Справочник_, _Реквизит поиска_ и _Режим поиска_, а также задайте _Настройку уровня сходства слов_ \(актуально для поиска дублей по наименованию\).

Также можно задать дополнительные отборы \(например, выбрать только определенную группу номенклатуры\).

![](../../.gitbook/assets/image%20%28186%29.png)

После выбора параметров нажмите на кнопку "Найти дубли".

Для управления отображаемыми реквизитами в результатах воспользуйтесь настройкой Видимых колонок.

![](../../.gitbook/assets/image%20%2857%29.png)

В нашем примере добавили Бренд и убрали Объект.

![](../../.gitbook/assets/image%20%28113%29.png)

Далее в каждой выбранной группе необходимо выбрать Правильный элемент, если это действительно дубли. На скриншоте выше, мы видим не дубли, а действительно разными номенклатурными позициями.

![](../../.gitbook/assets/image%20%28225%29.png)

А это уже пример дубля. Для того, чтобы его свернуть, нам необходимо указать одну из позиций как правильную и выполнить замену.

![](../../.gitbook/assets/image%20%28188%29.png)

После этого в базе останется только правильный элемент и все ссылки на дубли будут заменены на него.

Аналогичную операцию по поиску и замене дублей мы можем проделать и с другими справочниками, например с Брендами.

{% hint style="info" %}
Будьте внимательны при свертке дублей брендов, т.к. переименовав и свернув дубли брендов можно получить дубли номенклатуры по связке Очищенный артикул + Бренд.
{% endhint %}

{% hint style="info" %}
Обязательно согласовывайте операции по свертке дублей с квалифицированными 1С-специалистами и руководством.
{% endhint %}

**Не всегда можно свернуть дубли безболезненно для учетной системы.**

Например, в системе есть дубли номенклатуры:

1. WA940/9, MANN, Фильтр охлаждающей жидкости
2. WA940/9, MANN-FILTER, Фильтр охлаждающей жидкости VOLVO BUS 5000, 7000, 8000, 9000, B6, B7, B9, B10, B12, B13, C10M

![&#x414;&#x443;&#x431;&#x43B;&#x438; &#x43D;&#x43E;&#x43C;&#x435;&#x43D;&#x43A;&#x43B;&#x430;&#x442;&#x443;&#x440;&#x44B; WA940/9](../../.gitbook/assets/image%20%283%29.png)

И каждая из этих позиций номенклатуры участвовала в документах, находящихся в закрытых периодах, в которых уже нельзя вносить изменения. В этом случае не получится использовать свертку дублей и в системе остается дубль.

Для решения таких ситуаций разработана методика по [перекроссировке брендов](perekrossirovki-brendov.md).

